messages:
  - role: system
    content: >-
      Sprache: Deutsch (Schweiz, de-CH). Alle Textfelder im JSON müssen auf
      Deutsch sein.\nZiel: Erstelle ein detailliertes und exaktes
      Protokoll\nZiel: Erstelle ein detailliertes und exaktes Protokoll für eine
      interne Sitzung basierend auf dem bereitgestellten Textdokument. Das
      Protokoll muss alle internen Entscheidungen, Zuordnungen und
      administrativen Festlegungen dokumentieren, ohne Projektthemen oder
      spezifische technische Aspekte zu
      berücksichtigen.\n\nAnweisung:\nAllgemeine Besprechungsdaten:\n- Datum der
      Sitzung (falls verfügbar)\n- Thema der Sitzung (falls explizit genannt, z.
      B. „Marketingplanung“, „Finanzplanung“ oder „HR-Sitzung“)\n- Beteiligte
      Personen und Abteilungen: Nenne alle anwesenden Personen sowie deren
      Abteilungen (z. B. HR, Finanzabteilung, Marketing, Verwaltung,
      etc.).\n\nProtokoll der internen Sitzung (mit Fokus auf administrative
      Entscheidungen und organisatorische Themen):\n- Gliedere das Protokoll
      nach den besprochenen Themen oder Abteilungen (z. B. Personalwesen,
      Finanzen, Marketing, Büroorganisation, etc.).\n- Alle administrativen
      Entscheidungen und organisatorischen Festlegungen müssen genau beschrieben
      werden:\n  - Was wurde intern entschieden?\n  - Welche Aufgaben oder
      Zuständigkeiten wurden zugewiesen?\n  - Wer ist für die Umsetzung
      verantwortlich?\n  - Welche Schritte oder Maßnahmen wurden festgelegt?\n-
      Offene Punkte und zu klärende Fragen: Wenn es offene Fragen gibt, die
      weiter geklärt werden müssen, markiere diese als „zu klären“ und
      beschreibe den Sachverhalt detailliert.\n\nOffene Punkte und zu klärende
      Fragen (falls vorhanden):\n- Halte alle offenen Themen fest, bei denen
      eine interne Entscheidung noch aussteht, aber bereits diskutiert wurde.
      Diese müssen als „zu klären“ markiert werden.\n- Achte darauf, dass
      interne Abstimmungen zwischen den Abteilungen gut dokumentiert sind, um
      sicherzustellen, dass alle offenen Punkte klar erfasst
      sind.\n\nWichtig:\n- Keine Interpretation oder Zusammenfassungen der
      Diskussionen. Nur die internen Entscheidungen und Festlegungen werden
      dokumentiert.\n- Keine Projektthemen oder technischen Entscheidungen
      (diese gehören nicht in ein internes Sitzungsprotokoll).\n- Keine
      Ergänzungen oder To-Dos ohne Bezug zu den getroffenen Entscheidungen oder
      offenen Fragen.\n- Detaillierte und präzise Dokumentation: Jede
      Entscheidung muss vollständig erfasst werden, damit sie später ohne
      Rückfragen nachvollziehbar ist.\n\nFormat der Ausgabe:\n- Ein
      strukturierter Bericht, der alle internen Entscheidungen, Zuständigkeiten
      und offenen Fragen klar und übersichtlich darstellt.\n- Keine unnötigen
      Erklärungen oder Zusammenfassungen, nur konkrete interne Entscheidungen
      und organisatorische Festlegungen.\n\nWICHTIGER HINWEIS: Das beigefügte
      Beispiel dient NUR als Formatvorgabe. Inhalte aus dem Beispiel dürfen
      NICHT übernommen werden. Wenn Informationen im Transkript fehlen, setze
      die entsprechenden Felder im JSON auf null. Die Ausgabe MUSS gültiges JSON
      sein und dem output_schema exakt entsprechen.
  - role: user
    content: >-
      Erstelle das Protokoll AUSSCHLIESSLICH auf Basis des folgenden
      Transkripts.\n\nTRANSKRIPT:\n{{transcript}}\n
  - role: assistant
    content: >-
      "{\n  \"general\": {\n    \"date\": \"2025-01-15\",\n    \"topic\":
      \"Interne Sitzung zur Personalplanung und Finanzplanung\",\n   
      \"participants\": [\n      { \"name\": \"Judith Gross\", \"department\":
      \"HR\" },\n      { \"name\": \"Moritz Späh\", \"department\":
      \"Finanzabteilung\" },\n      { \"name\": \"Bettina Blöchlinger\",
      \"department\": \"Marketing\" },\n      { \"name\": \"Max Mustermann\",
      \"department\": \"Verwaltung\" }\n    ]\n  },\n  \"sections\": [\n   
      {\n      \"title\": \"Personalplanung – Neueinstellungen und
      Ressourcen\",\n      \"decisions\": [\n        {\n          \"decision\":
      \"Zwei neue Marketingmitarbeiter zum 2025-02-01 werden eingestellt;
      Stellenausschreibungen bis 2025-01-20 veröffentlichen.\",\n         
      \"responsibilities\": [ { \"person\": \"Judith Gross\", \"department\":
      \"HR\" } ],\n          \"actions\": [\n           
      \"Stellenausschreibungen erstellen und publizieren\",\n           
      \"Bewerbungen bis 2025-01-25 sichten\"\n          ],\n         
      \"due_date\": \"2025-01-25\"\n        }\n      ]\n    },\n    {\n     
      \"title\": \"Finanzplanung – Budget für Q1 2025\",\n      \"decisions\":
      [\n        {\n          \"decision\": \"Marketingbudget für Q1 2025 um 10%
      erhöhen.\",\n          \"responsibilities\": [ { \"person\": \"Moritz
      Späh\", \"department\": \"Finanzabteilung\" } ],\n          \"actions\":
      [\n            \"Budgetanpassungen vornehmen\",\n           
      \"Detaillierte Übersicht bis 2025-01-20 bereitstellen\"\n         
      ],\n          \"due_date\": \"2025-01-20\"\n        }\n      ]\n   
      },\n    {\n      \"title\": \"Marketingstrategie – Werbemaßnahmen für
      Produktlaunch\",\n      \"decisions\": [\n        {\n         
      \"decision\": \"Werbekampagne für Produktlaunch im Februar 2025 genehmigt
      (Online & Social Media).\",\n          \"responsibilities\": [ {
      \"person\": \"Bettina Blöchlinger\", \"department\": \"Marketing\" }
      ],\n          \"actions\": [\n            \"Zeitplan für die Umsetzung
      erstellen\",\n            \"Koordination der Kampagne\"\n         
      ],\n          \"due_date\": null\n        }\n      ]\n    },\n    {\n     
      \"title\": \"Büroorganisation – Umstrukturierung der Büroräume\",\n     
      \"decisions\": [\n        {\n          \"decision\": \"Büroräume für
      Marketing-Team werden neu strukturiert; neues Bürokonzept zu
      erstellen.\",\n          \"responsibilities\": [ { \"person\": \"Max
      Mustermann\", \"department\": \"Verwaltung\" } ],\n          \"actions\":
      [ \"Bürokonzept ausarbeiten und vorlegen\" ],\n          \"due_date\":
      \"2025-01-25\"\n        }\n      ]\n    }\n  ],\n  \"open_items\": [\n   
      {\n      \"question\": \"Budgetmittel für neue Marketingstellen – muss
      Budget angepasst werden?\",\n      \"context\": \"Prüfung der
      Budgetanpassung für zwei neue Mitarbeiter; Klärung mit Finanzabteilung bis
      nächste Sitzung.\",\n      \"responsible\": \"Finanzabteilung\",\n     
      \"due_date\": null\n    },\n    {\n      \"question\": \"Organisation der
      gemeinsamen Arbeitsbereiche in der neuen Bürostruktur\",\n     
      \"context\": \"Verwaltung erarbeitet Vorschläge für die Organisation der
      neuen Bereiche.\",\n      \"responsible\": \"Max Mustermann\",\n     
      \"due_date\": null\n    },\n    {\n      \"question\": \"Einsparpotenziale
      im aktuellen Budget\",\n      \"context\": \"Diskussion in nächster
      Sitzung.\",\n      \"responsible\": \"Finanzabteilung\",\n     
      \"due_date\": null\n    },\n    {\n      \"question\": \"Optimierung der
      Budgets für Online-Werbung\",\n      \"context\": \"Prüfung durch
      Marketing.\",\n      \"responsible\": \"Bettina Blöchlinger\",\n     
      \"due_date\": null\n    }\n  ]\n}"
model: openai/gpt-4o
responseFormat: json_schema
modelParameters:
  temperature: 0
  top_p: 0.01
jsonSchema: |
  {
    "name": "InternalMeeting",
    "strict": false,
    "schema": {
      "type": "object",
      "additionalProperties": false,
      "required": ["general", "sections", "open_items"],
      "properties": {
        "general": {
          "type": "object",
          "required": ["date", "topic", "participants"],
          "additionalProperties": false,
          "properties": {
            "date": { "type": ["string", "null"], "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
            "topic": { "type": ["string", "null"], "minLength": 1 },
            "participants": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["name", "department"],
                "additionalProperties": false,
                "properties": {
                  "name": { "type": "string", "minLength": 1 },
                  "department": {
                    "anyOf": [
                      { "type": "string", "minLength": 1 },
                      { "type": "null" }
                    ]
                  }
                }
              }
            }
          }
        },
        "sections": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["title", "decisions"],
            "additionalProperties": false,
            "properties": {
              "title": { "type": "string", "minLength": 1 },
              "decisions": {
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["decision", "actions", "responsibilities", "due_date"],
                  "additionalProperties": false,
                  "properties": {
                    "decision": { "type": "string", "minLength": 1 },
                    "responsibilities": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "required": ["person", "department"],
                        "additionalProperties": false,
                        "properties": {
                          "person": { "type": "string", "minLength": 1 },
                          "department": {
                            "anyOf": [
                              { "type": "string", "minLength": 1 },
                              { "type": "null" }
                            ]
                          }
                        }
                      }
                    },
                    "actions": {
                      "anyOf": [
                        { "type": "array", "items": { "type": "string", "minLength": 1 } },
                        { "type": "null" }
                      ]
                    },
                    "due_date": {
                      "anyOf": [
                        { "type": ["string", "null"], "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
                        { "type": "null" }
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "open_items": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["question", "context", "responsible", "due_date"],
            "additionalProperties": false,
            "properties": {
              "question": { "type": "string", "minLength": 1 },
              "context": { "type": "string", "minLength": 1 },
              "responsible": {
                "anyOf": [
                  { "type": ["string", "null"], "minLength": 1 },
                  { "type": "null" }
                ]
              },
              "due_date": {
                "anyOf": [
                  { "type": ["string", "null"], "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
                  { "type": "null" }
                ]
              }
            }
          }
        }
      }
    }
  }
